{"name":"HTTP学习笔记","tagline":"wcr_blog","body":"HTTP是一个基于“请求/响应”模式的、无状态的协议。所谓的“请求/响应”模式，即客户端（浏览器）向服务端（Web服务器）发起连接，在连接建立后，客户端再向服务端发送一个请求；服务端对这个请求进行处理，然后返回一个响应信息，之后关闭双方的连接。在OSI（开放式系统互连）参考模型中，HTTP位于应用层，它需要下层协议的提供的服务，一般来说是TCP协议。不过实际上，HTTP只假定所使用的协议提供的数据传输是可靠的，因此任一满足要求的协议都可以被使用。\r\n早先的HTTP1.0采用的是单次连接机制，即浏览器发送一个请求后，服务器回应一个消息，之后连接就被关闭。若浏览再次发出请求，则需重新建立连接。这就容易导致Internet上的信息堵塞。而后的HTTP1.1给出了一个持续连接的默认机制，缓解了这一问题。\r\n所谓网址，就是HTTP URL，其格式如下：\r\nhttp://host[:port][abs_path]\r\nhttp表示指定HTTP协议来定位网络资源。host表示合法的Internet主机域名或IP地址。port用于指定端口号——若未给出端口，则默认使用端口80。abs_path指定被请求资源的URI（统一资源标识符）——若未给出URL，则默认为“/”的形式。\r\n注：URL是一种特殊形式的URI。此外URN（统一资源命名）也是一种URI。\r\nHTTP请求由三部分组成分别是：请求行、消息报头、请求正文。\r\n请求行由请求方法、资源URI、协议版本组成，其格式如下：\r\nMethod Request-URI HTTP-version (CRLF)\r\n\r\n注：方法名是区分大小写的；目前HTTP支持的方法都是大写格式的。\r\n消息报头与请求正文之间隔着一个空行，代表消息报头已经结束，接下来是请求正文。\r\nHTTP响应与请求类似，也由三部分组成，分别是：状态行、消息报头、响应正文。\r\n状态行由协议版本、状态代码（数字形式）、状态描述（文本描述）组成，其格式如下：\r\nHTTP-version Status-Code Reason-Phrase (CRLF)\r\n状态代码有三位数字组成，表示请求是否被理解或被满足，首位取值如下：\r\n  \r\n消息报头与响应正文之间隔着一个空行，代表消息报头已经结束，接下来是响应正文。\r\n消息报头的格式如下：\r\nname: value (CRLF)\r\n报头一般分为普通报头、请求报头、响应报头、实体报头等。报头域是不分大小写的。\r\n普通报头中有的能应用于所有的请求消息和响应消息。普通报头域有：\r\n \r\n以下重点介绍几个普通报头域的使用方法：\r\n1.\tCache-Control：指定缓存指令，从而覆盖默认的缓存规则。请求消息和响应消息所使用的缓存指令是不同的。\r\n2.\tDate：表示消息产生的日期和时间。请求和响应的消息中都可以应用。作为服务端应该总是包含Date报头域的；而作为客户端只有在发送的消息中包含了正文时，才应发送Date报头域。\r\n3.\tConnection：指定连接的方式是持续的或是单次的。\r\n请求报头允许客户端向服务端传递该请求的附加信息，以及客户端自身的信息。请求报头域有：\r\n \r\n以下重点介绍几个请求报头域的使用方法：\r\n1.\tAccept：用于指定客户端接受哪种格式的信息，取值通常为文件后缀名。\r\n2.\tAccept-Charset：用于指定客户端接受哪种字符集。\r\n3.\tAccept-Encoding：用于指定客户端接受哪种内容编码。\r\n4.\tAccept-Language：用于指定客户端接受哪种自然语言。\r\n5.\tAuthorization：用于证明客户端拥有访问被请求资源的权限。\r\n6.\tHost：指定被请求资源的Internet主机号和端口号。对于HTTP请求来说，这个报头域是必须的！\r\n7.\tUser-Agent：提供客户端的系统及软件信息。\r\n响应报头允许服务器传递不能放在状态栏中的附加响应信息，以及关于服务器的信息和对被请求资源进行下一步访问的信息。响应报头域有：\r\n \r\n以下重点介绍几个响应报头域的使用方法：\r\n1.\tLocation：用于将接受者重定向到新的位置。\r\n2.\tServer：与User-Agent相对应，提供服务器的软件信息。\r\n3.\tWWW-Authenticate：必须被包含到401（未授权的）相应信息中。\r\n实体报头可以传送信息实体，如请求正文和响应正文。包括实体报头域和实体正文两部分。其中实体正文就是请求正文和响应正文。实体报头域有：\r\n \r\n以下重点介绍几个实体报头域的使用方法：\r\n1.\tContent-Encoding：指示实体正文的内容编码。\r\n2.\tContent-Language：指示资源所用的自然语言。\r\n3.\tContent-Length：指示实体正文的长度。\r\n4.\tContent-Type：指示实体正文的媒体类型。\r\n5.\tExpires：给出了实体过期的日期和时间\r\n6.\tLast-Modified：指示资源最后的修改日期和时间。\r\n总之，HTTP消息由从客户端到服务端的请求和从服务端到客户端的响应组成。请求消息和响应消息都是有开始行、消息报头、空行、消息正文组成的。\r\n","google":"","note":"Don't delete this file! It's used internally to help with page regeneration."}